# WCLB

一个简单的基于[ItChat](://github.com/littlecodersh/ItChat)编写的脚本，目标是实现消息防撤回。

基本思路：使用ItChat的包装，对消息进行转发。
关于身份标识：比较有用的有3种标识，消息中使用的是`FromUserName`，这是一串`@`开头的字母和数字标识，在不同的登陆会话间会发生改变，不一定方便操作。第二个标识是`NickName`，对应的是微信昵称，第三个是`RemarkName`，对应的为微信备注。目测微信除了在登陆时会拉取一遍好友信息，平时使用的是惰性更新，点开某个好友会话时，会向各登陆端分别下发一条通知（`NOTE`），内容包含该会话好友的信息。

需要实现的功能
- [x] 身份标识转义：所有消息通过`FromUserName`标识身份，需要借助系统下发的`NOTE`消息自行维护一个映射，借助ItChat几乎不费功夫。
- [x] 消息监听转发：在ItChat库的封装下也极易实现。籍此可以向自己转发特定好友/所有好友的消息。
- [ ] 消息撤回通知：维护一个队列，发生消息回撤时，才向自己推出对应的消息，给予提示。
